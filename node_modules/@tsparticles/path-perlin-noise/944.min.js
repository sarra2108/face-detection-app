/*! For license information please see 944.min.js.LICENSE.txt */
(this.webpackChunk_tsparticles_path_perlin_noise=this.webpackChunk_tsparticles_path_perlin_noise||[]).push([[944],{944:(t,e,s)=>{s.d(e,{PerlinNoiseGenerator:()=>r});var i=s(303),o=s(846);const n=2*Math.PI,h={draw:!1,size:20,increment:.004,columns:0,rows:0,width:0,height:0,factor:{angle:.02,length:.01},offset:{x:4e4,y:4e4}};class r{constructor(){this._calculateField=()=>{const{field:t,noiseGen:e,options:s}=this,i=s.factor.length,o=s.factor.angle;for(let h=0;h<s.columns;h++){const r=t[h];for(let t=0;t<s.rows;t++){const a=r[t];a.length=e.noise3d(h*i+s.offset.x,t*i+s.offset.y,this.noiseZ),a.angle=e.noise3d(h*o,t*o,this.noiseZ)*n}}},this._drawField=t=>{const{field:e,options:s}=this;for(let i=0;i<s.columns;i++){const o=e[i];for(let e=0;e<s.rows;e++){const s=o[e],{angle:n,length:h}=s;t.setTransform(1,0,0,1,i*this.options.size,e*this.options.size),t.rotate(n),t.strokeStyle="white",t.beginPath(),t.moveTo(0,0),t.lineTo(0,this.options.size*h),t.stroke(),t.setTransform(1,0,0,1,0,0)}}},this._initField=()=>{const{columns:t,rows:e}=this.options;this.field=new Array(t);for(let s=0;s<t;s++){this.field[s]=new Array(e);for(let t=0;t<e;t++)this.field[s][t]=i.Vector.origin}},this.noiseGen=new o.PerlinNoise,this.field=[],this.noiseZ=0,this.options=(0,i.deepExtend)({},h)}generate(t){const e=t.getPosition(),{size:s}=this.options,o=Math.max(Math.floor(e.x/s),0),n=Math.max(Math.floor(e.y/s),0),{field:h}=this;return h?.[o]?.[n]?h[o][n].copy():i.Vector.origin}init(t){this.container=t,this._setup()}reset(){}update(){this.container&&(this._calculateField(),this.noiseZ+=this.options.increment,this.options.draw&&this.container.canvas.draw((t=>this._drawField(t))))}_resetField(){const t=this.container;if(!t)return;const e=t.actualOptions.particles.move.path.options,{options:s}=this;s.size=e.size>0?e.size:h.size,s.increment=e.increment>0?e.increment:h.increment,s.draw=!!e.draw;const o=e.offset;s.offset.x=o?.x??h.offset.x,s.offset.y=o?.y??h.offset.y;const n=e.factor;s.factor.angle=n?.angle??h.factor.angle,s.factor.length=n?.length??h.factor.length,s.width=t.canvas.size.width,s.height=t.canvas.size.height,this.options.seed=e.seed,this.noiseGen.seed(this.options.seed??(0,i.getRandom)()),s.columns=Math.floor(this.options.width/this.options.size)+1,s.rows=Math.floor(this.options.height/this.options.size)+1,this._initField()}_setup(){this.noiseZ=0,this._resetField(),window.addEventListener("resize",(()=>this._resetField()))}}}}]);