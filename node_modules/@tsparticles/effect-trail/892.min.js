/*! For license information please see 892.min.js.LICENSE.txt */
(this.webpackChunk_tsparticles_effect_trail=this.webpackChunk_tsparticles_effect_trail||[]).push([[892],{892:(t,a,i)=>{i.d(a,{TrailDrawer:()=>n});var e=i(303);const l=.5;class n{draw(t){const{context:a,radius:i,particle:e}=t,n=2*i,r=e.container.retina.pixelRatio,o=e.getPosition();if(!e.trail||!e.trailLength)return;const s=e.trailLength+i;if(e.trail.push({color:a.fillStyle??a.strokeStyle,position:{x:o.x,y:o.y}}),e.trail.length<2)return;for(;e.trail.length>s;)e.trail.shift();const h=Math.min(e.trail.length,s),c=o.x,x=o.y,d=e.container.canvas.size.width+n,g=e.container.canvas.size.height+n;let p=e.trail[h-1].position;const f=1,y=0,M=0,b=1;a.setTransform(f,y,M,b,o.x,o.y);for(let t=h;t>0;t--){const i=e.trail[t-1],o=i.position;a.beginPath(),a.moveTo(p.x-c,p.y-x);const s={x:(p.x+d)%d,y:(p.y+g)%g};if(Math.abs(p.x-o.x)>d*l||Math.abs(p.y-o.y)>g*l){p=o;continue}a.lineTo((Math.abs(p.x-o.x)>d*l?s.x:o.x)-c,(Math.abs(p.y-o.y)>g*l?s.y:o.y)-x);const f=Math.max(t/h*n,r,e.trailMinWidth??-1),y=a.globalAlpha;a.globalAlpha=e.trailFade?t/h:1,a.lineWidth=e.trailMaxWidth?Math.min(f,e.trailMaxWidth):f,a.strokeStyle=i.color,a.stroke(),a.globalAlpha=y,p=o}const{transformData:m}=t;a.setTransform(m.a,m.b,m.c,m.d,o.x,o.y)}particleInit(t,a){a.trail=[];const i=a.effectData;a.trailFade=i?.fade??!0,a.trailLength=(0,e.getRangeValue)(i?.length??10)*t.retina.pixelRatio,a.trailMaxWidth=i?.maxWidth?(0,e.getRangeValue)(i.maxWidth)*t.retina.pixelRatio:void 0,a.trailMinWidth=i?.minWidth?(0,e.getRangeValue)(i.minWidth)*t.retina.pixelRatio:void 0}}}}]);